{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/fiona/Desktop/nccu/school/113_2_spring/3d%20web/fionnuala_3d_project1/src/component/FallingText.js"],"sourcesContent":["import { useRef, useState, useEffect } from \"react\";\nimport Matter from \"matter-js\";\nimport \"./FallingText.css\";\n\nconst FallingText = ({\n  text = '',\n  highlightWords = [],\n  highlightClass = \"highlighted\",\n  trigger = \"auto\",\n  backgroundColor = \"transparent\",\n  wireframes = false,\n  gravity = 1,\n  mouseConstraintStiffness = 0.2,\n  fontSize = \"1rem\"\n}) => {\n  const containerRef = useRef(null);\n  const textRef = useRef(null);\n  const canvasContainerRef = useRef(null);\n\n  const [effectStarted, setEffectStarted] = useState(false);\n\n  useEffect(() => {\n    if (!textRef.current) return;\n    const words = text.split(\" \");\n    const newHTML = words\n      .map((word) => {\n        const isHighlighted = highlightWords.some((hw) => word.startsWith(hw));\n        return `<span class=\"word ${isHighlighted ? highlightClass : \"\"}\">${word}</span>`;\n      })\n      .join(\" \");\n    textRef.current.innerHTML = newHTML;\n  }, [text, highlightWords, highlightClass]);\n\n  useEffect(() => {\n    if (trigger === \"auto\") {\n      setEffectStarted(true);\n      return;\n    }\n    if (trigger === \"scroll\" && containerRef.current) {\n      const observer = new IntersectionObserver(\n        ([entry]) => {\n          if (entry.isIntersecting) {\n            setEffectStarted(true);\n            observer.disconnect();\n          }\n        },\n        { threshold: 0.1 }\n      );\n      observer.observe(containerRef.current);\n      return () => observer.disconnect();\n    }\n  }, [trigger]);\n\n  useEffect(() => {\n    if (!effectStarted) return;\n\n    const {\n      Engine,\n      Render,\n      World,\n      Bodies,\n      Runner,\n      Mouse,\n      MouseConstraint,\n    } = Matter;\n\n    const containerRect = containerRef.current.getBoundingClientRect();\n    const width = containerRect.width;\n    const height = containerRect.height;\n\n    if (width <= 0 || height <= 0) {\n      return;\n    }\n\n    const engine = Engine.create();\n    engine.world.gravity.y = gravity;\n\n    const render = Render.create({\n      element: canvasContainerRef.current,\n      engine,\n      options: {\n        width,\n        height,\n        background: backgroundColor,\n        wireframes,\n      },\n    });\n\n    const boundaryOptions = {\n      isStatic: true,\n      render: { fillStyle: \"transparent\" },\n    };\n    const floor = Bodies.rectangle(width / 2, height + 25, width, 50, boundaryOptions);\n    const leftWall = Bodies.rectangle(-25, height / 2, 50, height, boundaryOptions);\n    const rightWall = Bodies.rectangle(width + 25, height / 2, 50, height, boundaryOptions);\n    const ceiling = Bodies.rectangle(width / 2, -25, width, 50, boundaryOptions);\n\n    const wordSpans = textRef.current.querySelectorAll(\".word\");\n    const wordBodies = [...wordSpans].map((elem) => {\n      const rect = elem.getBoundingClientRect();\n\n      const x = rect.left - containerRect.left + rect.width / 2;\n      const y = rect.top - containerRect.top + rect.height / 2;\n\n      const body = Bodies.rectangle(x, y, rect.width, rect.height, {\n        render: { fillStyle: \"transparent\" },\n        restitution: 0.8,\n        frictionAir: 0.01,\n        friction: 0.2,\n      });\n\n      Matter.Body.setVelocity(body, {\n        x: (Math.random() - 0.5) * 5,\n        y: 0\n      });\n      Matter.Body.setAngularVelocity(body, (Math.random() - 0.5) * 0.05);\n      return { elem, body };\n    });\n\n    wordBodies.forEach(({ elem, body }) => {\n      elem.style.position = \"absolute\";\n      elem.style.left = `${body.position.x - body.bounds.max.x + body.bounds.min.x / 2}px`;\n      elem.style.top = `${body.position.y - body.bounds.max.y + body.bounds.min.y / 2}px`;\n      elem.style.transform = \"none\";\n    });\n\n    const mouse = Mouse.create(containerRef.current);\n    const mouseConstraint = MouseConstraint.create(engine, {\n      mouse,\n      constraint: {\n        stiffness: mouseConstraintStiffness,\n        render: { visible: false },\n      },\n    });\n    render.mouse = mouse;\n\n    World.add(engine.world, [\n      floor,\n      leftWall,\n      rightWall,\n      ceiling,\n      mouseConstraint,\n      ...wordBodies.map((wb) => wb.body),\n    ]);\n\n    const runner = Runner.create();\n    Runner.run(runner, engine);\n    Render.run(render);\n\n    const updateLoop = () => {\n      wordBodies.forEach(({ body, elem }) => {\n        const { x, y } = body.position;\n        elem.style.left = `${x}px`;\n        elem.style.top = `${y}px`;\n        elem.style.transform = `translate(-50%, -50%) rotate(${body.angle}rad)`;\n      });\n      Matter.Engine.update(engine);\n      requestAnimationFrame(updateLoop);\n    };\n    updateLoop();\n\n    return () => {\n      Render.stop(render);\n      Runner.stop(runner);\n      if (render.canvas && canvasContainerRef.current) {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        canvasContainerRef.current.removeChild(render.canvas);\n      }\n      World.clear(engine.world);\n      Engine.clear(engine);\n    };\n  }, [\n    effectStarted,\n    gravity,\n    wireframes,\n    backgroundColor,\n    mouseConstraintStiffness,\n  ]);\n\n  const handleTrigger = () => {\n    if (!effectStarted && (trigger === \"click\" || trigger === \"hover\")) {\n      setEffectStarted(true);\n    }\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"falling-text-container\"\n      onClick={trigger === \"click\" ? handleTrigger : undefined}\n      onMouseOver={trigger === \"hover\" ? handleTrigger : undefined}\n      style={{\n        position: \"relative\",\n        overflow: \"hidden\",\n      }}\n    >\n      <div\n        ref={textRef}\n        className=\"falling-text-target\"\n        style={{\n          fontSize: fontSize,\n          lineHeight: 1.4,\n        }}\n      />\n      <div ref={canvasContainerRef} className=\"falling-text-canvas\" />\n    </div>\n  );\n};\n\nexport default FallingText;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///Users/fiona/Desktop/nccu/school/113_2_spring/3d%20web/fionnuala_3d_project1/src/app/about/page.js"],"sourcesContent":["\"use client\"\nimport Image from \"next/image\";\nimport FallingText from \"../../component/FallingText\";\n\n\n\nexport default function About() {\n  return (\n    <div className=\"w-full h-full bg-blue-100 flex justify-center items-center rounded-2xl\">\n      \n      <FallingText\n          text={`Hello, This is Fionnuala's page.`}\n          highlightWords={[\"Hello\", \"Fionnuala's\"]}\n          highlightClass=\"highlighted\"\n          trigger=\"hover\"\n          backgroundColor=\"transparent\"\n          wireframes={false}\n          gravity={0.56}\n          fontSize=\"2rem\"\n          mouseConstraintStiffness={0.9}\n        />\n      \n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAMe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;kBAEb,cAAA,6LAAC,kIAAA,CAAA,UAAW;YACR,MAAM,CAAC,gCAAgC,CAAC;YACxC,gBAAgB;gBAAC;gBAAS;aAAc;YACxC,gBAAe;YACf,SAAQ;YACR,iBAAgB;YAChB,YAAY;YACZ,SAAS;YACT,UAAS;YACT,0BAA0B;;;;;;;;;;;AAKpC;KAlBwB","debugId":null}}]
}